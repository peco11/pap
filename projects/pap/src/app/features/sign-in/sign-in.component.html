<ion-header><pap-header></pap-header></ion-header>
<ion-content>
  <form [formGroup]="signInForm">
    <ion-list>
      <ion-list-header>
        <ion-label>Login</ion-label>
      </ion-list-header>
      <ion-item>
        <ion-label position="fixed">Email</ion-label>
        <ion-input formControlName="email" required placeholder="Inserire la email"> </ion-input>
      </ion-item>
      <ion-item *ngIf="signInForm.controls['email'].errors as errors">
        <pap-error-form-handler [errors]="errors"></pap-error-form-handler>
      </ion-item>
      <ion-item>
        <ion-label position="fixed">Password</ion-label>
        <ion-input required formControlName="password" placeholder="Inserire la password">
        </ion-input>
      </ion-item>
      <ion-item *ngIf="signInForm.controls['password'].errors as errors">
        <pap-error-form-handler [errors]="errors"></pap-error-form-handler>
      </ion-item>
      <ion-item *ngIf="error$|async as error">
        <ion-label color="danger">{{error}}</ion-label>
      </ion-item>
      <ion-button
        type="submit"
        [disabled]="!signInForm.valid"
        block
        (click)="login(signInForm.value)"
        >sign in</ion-button
      >
    </ion-list>
  </form>
</ion-content>
