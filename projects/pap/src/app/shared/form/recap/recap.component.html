<h1 class="pap-form-recap-title">
  {{'Riepilogo'|translate}}
</h1>
<ul>
  <ng-container *ngFor="let item of steps$|async">
    <li *ngIf="form.controls[item.type].value != null && form.controls[item.type].value != ''">
      <span class="pap-form-recap-label">
        {{(item.recap||'') | translate}}
      </span>
      <ul>
        <ng-container [ngSwitch]="item.type">
          <li class="pap-form-recap-note-internal">
            <ion-note class="pap-form-recap-note" *ngSwitchCase="'text'">
              {{form.controls[item.type].value}}
            </ion-note>
            <ion-note class="pap-form-recap-note" *ngSwitchCase="'trash_type_id'">
              {{(currentTrashBookType$|async)?.name}}
            </ion-note>
            <ion-note class="pap-form-recap-note" *ngSwitchCase="'location'">
              {{form.controls['location_address'].value|json}}
            </ion-note>
            <ion-note class="pap-form-recap-note" *ngSwitchCase="'phone'">
              {{form.controls[item.type].value}}
            </ion-note>
            <ion-note class="pap-form-recap-note" *ngSwitchCase="'note'">
              {{form.controls[item.type].value}}
            </ion-note>

            <ng-container *ngSwitchCase="'calendar_trash_type_id'">
              <ng-container *ngIf="form.controls[item.type].value as value">
                <ul>
                  <li>
                    <ion-label lines="none"> data: </ion-label>
                    <ion-note class="pap-form-recap-note" *ngIf="value.trashDate  as trashDate">
                      {{trashDate|date}}
                    </ion-note>
                  </li>
                  <li>
                    <ion-label lines="none"> tipo di rifiuto: </ion-label>
                    <ion-note class="pap-form-recap-note" *ngIf="value.tbType  as tbType">
                      {{tbType.name.it}}
                    </ion-note>
                  </li>
                  <li>
                    <ion-label lines="none"> indirizzo: </ion-label>
                    <ion-note class="pap-form-recap-note" *ngIf="value.calendar  as calendar">
                      {{calendar.address.address}}
                    </ion-note>
                  </li>
                </ul>
              </ng-container>
            </ng-container>

            <ng-container *ngSwitchCase="'image'">
              <div>
                <img [src]="form.controls[item.type].value" />
              </div>
            </ng-container>
            <ion-note class="pap-form-recap-note" *ngSwitchDefault class="pap-form-recap-note">
              {{'messages.notInserted' | translate}}
            </ion-note>
          </li>
        </ng-container>
      </ul>
    </li>
  </ng-container>
</ul>
